import React, { useState, useEffect, useRef } from "react";
import Head from "next/head";
import Image from "next/image";
import styles from "../styles/Home.module.css";
import Header from "../components/Header";
import Footer from "../components/Footer";
import { gsap } from "gsap";
// import { TextPlugin } from "gsap/dist/TextPlugin";
// import { ScrollTrigger } from "gsap/dist/ScrollTrigger";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import {
  faHtml5,
  faCss3Alt,
  faJsSquare,
  faReact,
} from "@fortawesome/free-brands-svg-icons";
import {
  faPlus,
  faEquals,
  faAngleDown,
} from "@fortawesome/free-solid-svg-icons";
import indexGaspAnimation from "../utils/gsapAnimation/indexGsapAnimation"

export default function Home() {
  const logosRef = useRef();
  const welcome1Ref = useRef();
  const welcome2Ref = useRef();

  useEffect(() => {
console.log(indexGaspAnimation);
    //Icons Timelines
    indexGaspAnimation.welcome1(welcome1Ref.current);
    indexGaspAnimation.logos(logosRef.current);
    indexGaspAnimation.typing();

    var tl2 = gsap.timeline({
      repeat: 0,
      repeatDelay: 1,
      scrollTrigger: {
        trigger: welcome2Ref.current,
        start: "center bottom",
        end: "bottom center",
        scrub: true,
        markers: true,
      },
    });
    tl2.to(welcome2Ref.current, {
      height: "100vh",
      backgroundColor: "#95a5a6",
      opacity: 1,
    });
    
  }, []);
  return (
    <div className="container">
      <Head>
        <title>WebNumerik - Développement Web React</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header />
      <main className={styles.main}>
        <div className={styles.welcome1} ref={welcome1Ref}>
          <h2 className={styles.description}>
            Je suis Yves, freelance Front-end{" "}
          </h2>
          <h1 className={styles.title}>
            Développeur Web{" "}
            <a href="https://nextjs.org" id="reactText">
              !RJeSact
            </a>
          </h1>
          <div className={styles.icons} ref={logosRef}>
            <span className={styles.logoHtml5}>
              <FontAwesomeIcon icon={faHtml5} />
            </span>
            <span className={styles.operators}>
              <FontAwesomeIcon icon={faPlus} />
            </span>
            <span className={styles.logoCss3}>
              <FontAwesomeIcon icon={faCss3Alt} />
            </span>
            <span className={styles.operators}>
              <FontAwesomeIcon icon={faPlus} />
            </span>
            <span className={styles.logoJs}>
              <FontAwesomeIcon icon={faJsSquare} />
            </span>
            <span className={styles.operators}>
              <FontAwesomeIcon icon={faEquals} />
            </span>
            <span className={styles.logoReact}>
              <FontAwesomeIcon icon={faReact} />
            </span>
          </div>
        </div>
        {/* <div className={styles.scrollDown}>
          Scroll
          <span className={styles.arrow}>
            <FontAwesomeIcon icon={faAngleDown} />
          </span>
        </div> */}
        <div className={styles.welcome2} ref={welcome2Ref}>
          Disponible pour vous aider dans l'élaboration de votre projet, je vous
          invite à découvrir ci-dessous l'ensemble de mes références afin de
          mieux connaître mon profil.
        </div>
      </main>

      <Footer />
    </div>
  );
}
